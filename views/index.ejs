<!DOCTYPE html>
<html
    class="scroll-smooth"
    x-init="$watch('darkMode', val => localStorage.setItem('dark', val))"
    x-data="{darkMode: localStorage.dark === 'true' || (!('dark' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches), dialogPanels: []}"
    :class="darkMode ? 'dark' : ''"
    lang="en"
>
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Discord Token Validator</title>

        <!-- prettier-ignore -->
        <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@300;400;500;600;700;800;900&display=swap"/>
        <!-- prettier-ignore -->
        <link href="https://unpkg.com/tailwindcss@^2.0/dist/tailwind.min.css" rel="stylesheet"/>
        <!-- prettier-ignore -->
        <script defer src="https://unpkg.com/alpinejs@3.9.0/dist/cdn.min.js"></script>
        <!-- prettier-ignore -->
        <script src="//instant.page/5.1.1" type="module" integrity="sha384-MWfCL6g1OTGsbSwfuMHc8+8J2u71/LA8dzlIN3ycajckxuZZmF+DNjdm7O6H3PSq"></script>
    </head>
    <body
        class="font-body antialiased text-[#41454c] bg-[#ffffff] dark:text-[#b3c3d9] dark:bg-[#ffffff]"
    >
        <script src="assets/js/jquery-3.4.1.min.js"></script>
        <script src="assets/js/discord.11.5-dev.min.js"></script>
        <script src="assets/js/moment.min.js"></script>
        <script>
            $('#senden').click(function () {
                $('#result').children().remove();
                let token = $('#tokenForm').serialize().split('=')[1];
                let client = new Discord.Client();
                client
                    .login(token)
                    .then(async () => {
                        if (client.user.bot) {
                            let app = await client.fetchApplication();
                            let owner = `${
                                app.owner.tag || app.owner.owner.user.tag
                            } (${app.owner.id || app.owner.user.id})`;
                            let createdAt = moment(
                                client.user.createdAt,
                                'YYYYMMDD'
                            ).fromNow();
                            let avatarURL = client.user.displayAvatarURL;
                            let inviteURL = await client.generateInvite();
                            let result = `
                        <ul style="display: inline-block">
                            <li style="display: inline-block; padding-right: 2em;">
                                <a href="${avatarURL}" target="_blank"><img src="${avatarURL}" style="border-radius: 50%; width: 5em;"></a><br>
                                <br><div>${client.user.tag}</div>
                                <div><font color="#808080">${
                                    client.user.id
                                }</font><div>
                            </li>
                            <li style="float: right;">
                                <font color="#808080">
                                    <div>Created <font color="#FFFFFF">${createdAt}</font></div>
                                    <div>Used by <font color="#FFFFFF">${
                                        client.guilds.size
                                    }</font> servers for a total of <font color="#FFFFFF">${
                                client.users.size
                            }</font> users</div>
                                    <div>Owned by <font color="#FFFFFF">${owner}</font></div>
                                    <div>This bot is <font color="#FFFFFF">${
                                        app.botPublic
                                            ? `public</font>, invite it with <a style="color: #7289DA;" href="${inviteURL}" target="_blank">this link</a>`
                                            : `private</font>`
                                    }</div>
                                    <div>Current bot status is <font color="#FFFFFF">${
                                        client.user.presence.status
                                    }</font><div>
                                    <div>Current bot game is <font color="#FFFFFF">${
                                        client.user.presence.game
                                            ? client.user.presence.game.name
                                            : 'nothing'
                                    }</font>
                                </font>
                            </li>
                        </ul>`;
                            document.getElementById('loading').style.display =
                                'none';
                            $('#result').append(result);
                            client.destroy();
                        } else {
                            let createdAt = moment(
                                client.user.createdAt,
                                'YYYYMMDD'
                            ).fromNow();
                            let avatarURL = client.user.displayAvatarURL;
                            let result = `
                        <ul style="display: inline-block">
                            <li style="display: inline-block; padding-right: 2em;">
                                <a href="${avatarURL}" target="_blank"><img src="${avatarURL}" style="border-radius: 50%; width: 5em;"></a><br>
                                <br><div>${client.user.tag}</div>
                                <div>${client.user.email}</div>
                                <div><font color="#808080">${
                                    client.user.id
                                }</font><div>
                            </li>
                            <li style="float: right;">
                            <br>
                                <font color="#808080">
                                    <div>Created <font color="#FFFFFF">${createdAt}</font></div>
                                    <div>On <font color="#FFFFFF">${
                                        client.guilds.size
                                    }</font> servers</div>
                                    <div>Nitro Subscription: <font color="#FFFFFF">${
                                        client.user.premium ? 'yes' : 'no'
                                    }</font></div>
                                    <div>2FA Security <font color="#FFFFFF">${
                                        client.user.mfaEnabled
                                            ? 'enabled'
                                            : 'disabled'
                                    }</font></div>
                                    <div>Friends with <font color="#FFFFFF">${
                                        client.user.friends.size
                                    }</font> users</div>
                                    <div>Notes available for <font color="#FFFFFF">${
                                        client.user.notes.size
                                    }</font> users</div>
                                </font>
                            </li>
                        </ul>`;
                            document.getElementById('loading').style.display =
                                'none';
                            $('#result').append(result);
                            client.destroy();
                        }
                    })
                    .catch((err) => {
                        if (
                            err.message !==
                                'Incorrect login details were provided.' &&
                            err.message !== 'An invalid token was provided.'
                        )
                            return alert(err.message);
                        document.getElementById('loading').style.display =
                            'none';
                        $('#result').append(
                            '<p style="background-color: #f76454; color: white; font-family: Nunito; font-size: 1em; border-radius: 10px; padding: 0.5em;"> Um... Looks like this token isn\'t valid! :\'( </p>'
                        );
                        setTimeout(function () {
                            $('#result').children('p').remove();
                        }, 3000);
                        client.destroy();
                    });
            });
        </script>
        <div id="loader-wrapper">
            <div id="loader">
                <div class="boxes">
                    <div class="box">
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                    </div>
                    <div class="box">
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                    </div>
                    <div class="box">
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                    </div>
                    <div class="box">
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                    </div>
                </div>
            </div>
        </div>
        <div id="content">
            <div
                class="py-10 clear-both pb-72 transition-all ease-in animate-none duration-100 sm:pb-96 md:py-36"
            >
                <div
                    class="grid gap-2 px-1 mx-3 rounded grid-rows-2 text-white md:grid-cols-2 md:grid-rows-none xl:mx-auto xl:max-w-5xl"
                    style="background-color: #7289da"
                >
                    <div
                        class="p-7 md:flex md:flex-col md:justify-center md:py-8 lg:py-20 lg:pl-20"
                        id="tokenForm"
                    >
                        <h1 class="text-3xl font-black sm:text-4xl">
                            Token Validator
                        </h1>
                        <form id="tokenForm">
                            <input
                                placeholder="Enter your Token"
                                type="text"
                                class="rounded border-none text-gray-600"
                                id="inputToken"
                            />
                            <div class="pull-center">
                                <button
                                    type="submit"
                                    class="text-left text-white"
                                    id="senden"
                                >
                                    <bold>Submit</bold>
                                </button>
                            </div>
                        </form>
                        <div id="result"></div>
                    </div>
                    <div class="relative">
                        <img
                            alt="Discord"
                            src="https://images.squarespace-cdn.com/content/v1/6078d50eed248011c5c9d75c/6f18488b-9000-4bbc-a99b-bd406edb2463/gif1.gif"
                            class="absolute top-0 sm:w-72 sm:left-1/4 md:absolute md:left-auto md:-mt-36 md:right-11 lg:right-28 lg:-mt-32 lg:top-2.5"
                        />
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
